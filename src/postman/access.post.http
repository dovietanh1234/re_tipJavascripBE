### signup
POST http://localhost:5000/v1/api/shop/signup
Content-Type: application/json

{
    "name": "shop vanh",
    "email": "shopTip02@gmail.com",
    "password": "123456789"
}


// tạo một cái request khác có chứa headers (xử lý middleware bên trong):
### signup
POST http://localhost:5000/v1/api/shop/signup
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
    "name": "shop vanh",
    "email": "shopTip08@gmail.com",
    "password": "123456789"
}

// login:
### login
POST http://localhost:5000/v1/api/shop/login 
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
    "email": "shopTip08@gmail.com",
    "password": "123456789"
}

// refreshToken FOR VERSION 1:
### refreshToken
POST http://localhost:5000/v1/api/shop/refreshToken
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDExMzM1MDMsImV4cCI6MTcwMTMwNjMwM30.3w7sA7S9_My8hwF6MhDnlNaxNAofRCTE-g0WU2qNsWI

{
    "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDExMzM1MDMsImV4cCI6MTcwMTczODMwM30.D253IC8ULWeW8PXH2KKFTJbVVYI1RmyJJNWYc626LW0"
}

### refreshToken FOR VERSION 2:
POST http://localhost:5000/v1/api/shop/refreshToken
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
refreshtoken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDExMzY4OTIsImV4cCI6MTcwMTc0MTY5Mn0.g_MedLv1DYZNDItmLXd4jbr7TfIIvDjhd9eavxlBAYQ

{
   
}




// logout:
### logout
POST http://localhost:5000/v1/api/shop/logout
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
}

// Create Product section 12:
### Create_Product Electronic
POST http://localhost:5000/v1/api/shop/create/product
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
    "product_name": "Ipone 14",
    "product_thumb": "https://cdn.tgdd.vn/Files/2023/03/28/1521853/ip-280323-101233.jpg",
    "product_description": "discount iphone 14 ",
    "product_price": 6000,
    "product_quantity": 500,
    "product_type": "Electronics",
    "product_attributes": {
        "manifacturer": "Apple",
        "model": "iphone 14 plus",
        "color": "Gold"
    }
}


// Create Product section 12:
### Create_Product Clothing
POST http://localhost:5000/v1/api/shop/create/product
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
    "product_name": "baby jean ",
    "product_thumb": "https://assemblylabel.com/cdn/shop/products/c01a596fd3cb4413bad785724b510096_600x.jpg?v=1693190679",
    "product_description": "for your babe",
    "product_price": 15,
    "product_quantity": 500,
    "product_type": "Clothing",
    "product_attributes": {
        "brand": "normal",
        "size": "X",
        "material": "demin"
    }
}


### Get all drafts through ShopId
GET http://localhost:5000/v1/api/shop/get/drafts
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
    
}

### Get all publish through ShopId
GET http://localhost:5000/v1/api/shop/get/publish
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
    
}


///shop/publish/:id
### alter to publish product on website:
POST http://localhost:5000/v1/api/shop/publish/6567f08969b2f3c414f99259
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
    
}

///shop/turnOff/publish/:id
### alter turn off publish product on website:
POST http://localhost:5000/v1/api/shop/turnOff/publish/6567f08969b2f3c414f99259
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
    
}

///shop/search/:keySearch
### Search product:
GET http://localhost:5000/v1/api/shop/search/jean
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
    
}

//find all products
### find all products:
GET http://localhost:5000/v1/api/shop/getall/product 
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
    
}


//shop/detail/product/:product_id
### find detail product:
GET http://localhost:5000/v1/api/shop/detail/product/6567f08969b2f3c414f99259
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
    
}


// UPDATE PRODUCT BY METHOD PATCH:
### UPDATE products: 
PATCH http://localhost:5000/v1/api/shop/update/product/6567f08969b2f3c414f99259  
Content-Type: application/json 
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
    "product_attributes": {
        "brand": null, 
        "size": "XL",
        "material": "white demy"
    },
    "product_name": null,
    "product_price": null
}


// DISCOUNT:



### CREATE DISCOUNT: 
POST http://localhost:5000/v1/api/shop/createDiscount
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
    "name":"new discount for test",
    "code": "TEST-DISCOUNT",
    "startDate": "2023-12-10 11:06:00",
    "endDate": "2023-12-15 12:00:00",
    "isActive": true,
    "minOrderValue": 10,
    "aplliesTo": "specify",
    "productIds": ["656c51dd55769ac88c8e273a", "656c51301929aa120ffdd2cb"],
    "description": "discount to test",
    "type": "percentage", 
    "value": "5",
    "maxValue": 500,
    "maxUses": 100,
    "usesCount": 0, 
    "maxNumberUsedPerUser": 1,
    "usersUsed": []
}

### get All discount Code Of ShopId: 
POST http://localhost:5000/v1/api/shop/getAllDiscountByShopId
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc
x-client-id: 6561879dfb0e542382ad7dd7
authorization: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJVc2VySWQiOiI2NTYxODc5ZGZiMGU1NDIzODJhZDdkZDciLCJlbWFpbCI6InNob3BUaXAwOEBnbWFpbC5jb20iLCJyb2xlcyI6IlNIT1AiLCJpYXQiOjE3MDIyNTYxNTksImV4cCI6MTcwMjQyODk1OX0.CY0qFvO3ImYeD_ZRIlQt8Mo01mkKZdpj2m30yJnSW6I

{
    "limit": "10", 
    "page": "1"
}


### apply DiscountCode in product
POST http://localhost:5000/v1/api/shop/applyDiscountCode
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
    "codeId": "SHOP-INTERNATIONAL", 
    "userId": "0979278962ABC", 
    "shopId": "6561879dfb0e542382ad7dd7",
    "products": [{
        "productId": "6567f08969b2f3c414f99259",
        "shopId": "6561879dfb0e542382ad7dd7",
        "quantity": 2,
        "name": "update version 2",
        "price": 300
    },
    {
        "productId": "656c4fe22899f8047e373463",
        "shopId": "6561879dfb0e542382ad7dd7",
        "quantity": 3,
        "name": "flower shirt ",
        "price": 20
    }]
}


### get All Discount By ProductId
GET http://localhost:5000/v1/api/shop/getAllDiscountByProductId
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
    "code": "SHOP-INTERNATIONAL", 
    "shopId": "6561879dfb0e542382ad7dd7", 
    "userId": "",
    "limit": "10",
    "page": "1"
}


// CART:


### get All cart By userId
GET http://localhost:5000/v1/api/shop/cart/getall
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
    "userId": "USER111"
}


### create CART
POST http://localhost:5000/v1/api/shop/cart/create
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
   "userId": "USER111",  
   "product": {
            "productId": "656c4fe22899f8047e373463",
            "shopId": "6561879dfb0e542382ad7dd7",
            "quantity": 4,
            "name": "flower shirt ",     
            "price": 20
   }
}



### update CART
POST http://localhost:5000/v1/api/shop/cart/update
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
        "userId": "USER111", 
        "shop_order_id": [
                        {
                        "shopId": "6561879dfb0e542382ad7dd7",
                        "itemProducts": [
                                    {
                                    "quantity": 10,
                                    "price": 15,
                                    "shopId": "6561879dfb0e542382ad7dd7",
                                    "oldQuantity": 1,
                                    "productId": "656c51dd55769ac88c8e273a"
                                    }
                        ],
                        "version": 1
                        }
            ] 
}

### delete
POST http://localhost:5000/v1/api/shop/cart/delete
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
   "userId": "", 
   "productId": "656c51dd55769ac88c8e273a"
}



### checkout order
POST http://localhost:5000/v1/api/shop/checkout
Content-Type: application/json
x-api-key: 6239241f841ddfffb01250b07b3dfbda3b596c93264a6ec03269ba35653f5d15f68e8df8e91d0a72530cb3af23f139fdb8336fcee2f64287417e9add96f363dc

{
    "cartId": "65719ef6cbb462760ab3393d",
    "userId": "USER111",
    "shop_order_id": [
                        {
                            "shopId": "6561879dfb0e542382ad7dd7",
                            "shopDiscount": [{
                                "shopId": "6561879dfb0e542382ad7dd7",
                                "discountId": "65765e3a10d85c6c83013616",
                                "codeId": "TEST-DISCOUNT"
                            }],
                            "itemProduct": [
                                {
                                    "price": 4,
                                    "quantity": 15,
                                    "productId": "656c51dd55769ac88c8e273a"
                                }  
                            ]  
                        },
                        {
                            "shopId": "6561879dfb0e542382ad7dd7",
                            "shopDiscount": [{
                                "shopId": "6561879dfb0e542382ad7dd7",
                                "discountId": "65765e3a10d85c6c83013616",
                                "codeId": "TEST-DISCOUNT"
                            }],
                            "itemProduct": [
                                {
                                    "price": 15,
                                    "quantity": 4,
                                    "productId": "656c51301929aa120ffdd2cb"
                                }  
                            ]  
                        },{
                            "shopId": "6561879dfb0e542382ad7dd7",
                            "shopDiscount": [],
                            "itemProduct": [
                                {
                                    "price": 20,
                                    "quantity": 5,
                                    "productId": "656c4fe22899f8047e373463"
                                }  
                            ]  
                        }
                    ]
}


